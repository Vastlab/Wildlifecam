\hypertarget{weibull_8h}{\section{/\-Users/rcjohnson/\-Documents/\-Securics/squirrel\-\_\-pipeline/jni/onevset\-S\-V\-M/weibull.h File Reference}
\label{weibull_8h}\index{/\-Users/rcjohnson/\-Documents/\-Securics/squirrel\-\_\-pipeline/jni/onevset\-S\-V\-M/weibull.\-h@{/\-Users/rcjohnson/\-Documents/\-Securics/squirrel\-\_\-pipeline/jni/onevset\-S\-V\-M/weibull.\-h}}
}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{weibull_8h_ad5ecc119cce9b101ce0fdd2f46ed73ed}{W\-E\-I\-B\-U\-L\-L\-\_\-\-H}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
double \hyperlink{weibull_8h_a5676fa7821d22c891641b5ae750edbb7}{weibull\-\_\-cdf} (double \hyperlink{_2svm-predict_8cpp_a9a5b72a4065074cac5da07efb80a1e79}{x}, double scale, double shape)
\item 
double \hyperlink{weibull_8h_a10654c6de021f056fa213203a6c0d0cb}{weibull\-\_\-inv} (double \hyperlink{_2svm-predict_8cpp_a9a5b72a4065074cac5da07efb80a1e79}{x}, double scale, double shape)
\item 
int \hyperlink{weibull_8h_ae45643de52e8682e9a4ae59ec6d77c42}{weibull\-\_\-fit} (double $\ast$weibullparms, double $\ast$wparm\-\_\-confidenceintervals, double $\ast$input\-Data, double alpha, int size)
\item 
void \hyperlink{weibull_8h_a6008cac4d8de6e6ea3404c70db4f05d0}{print\-Weibull\-Build\-Info} (F\-I\-L\-E $\ast$fh)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
weibull.\-h provides the headers for the core functionality for computing weibull fittings, as well as C\-D\-F and I\-N\-F given parameters

Author Brian Heflin bheflin at securics com Author Walter Scheirer walter at securics com Author Terry Boult tboult at securics com

Copyright 2010, 2011, Securics Inc.\hypertarget{_2weibull_8h_LICENSE}{}\subsection{L\-I\-C\-E\-N\-S\-E}\label{_2weibull_8h_LICENSE}
See accompanying L\-I\-C\-E\-N\-S\-E agreement for full details on rights.

Parts of this technology are subject to S\-B\-I\-R data rights and as described in D\-F\-A\-R\-S 252.\-227-\/7018 (June 1995) S\-B\-I\-R Data Rights which apply to Contract Number\-: N00014-\/11-\/\-C-\/0243 and S\-T\-T\-R N00014-\/07-\/\-M-\/0421 to Securics Inc, 1870 Austin Bluffs Parkway, Colorado Springs, C\-O 80918

$\ast$\-The Government's rights to use, modify, reproduce, release, perform, display, or disclose technical data or computer software marked with this legend are restricted during the period shown as provided in paragraph (b)(4) of the Rights in Non-\/commercial Technical Data and Computer Software-\/\-Small Business Innovative Research (S\-B\-I\-R) Program clause contained in the above identified contract. Expiration of S\-B\-I\-R Data Rights\-: Expires four years after completion of the above cited project work for this or any other follow-\/on S\-B\-I\-R contract, whichever is later.

No restrictions on government use apply after the expiration date shown above. Any reproduction of technical data, computer software, or portions thereof marked with this legend must also reproduce the markings.\hypertarget{_2weibull_8h_Summary}{}\subsection{Description}\label{_2weibull_8h_Summary}
This file contains the \char`\"{}\-C\char`\"{} interface functions for very basic Weibull usage for Meta-\/\-Recognition. The weibull\-\_\-fit and weibull\-\_\-cdf are the primary functions to use.

The code herein has a number of S\-T\-R\-O\-N\-G assumptions you must follow as we cannot test for all of them. 1) All fitting and testing are presuming \char`\"{}larger is better\char`\"{}, If you are fitting something where smaller is better you need to transform it. 2) All data is positive (okay we can and do test for that, but better to know up front what you are doing) 3) There must be sufficient range in your data to actually fit the Weibull. If all the data is the same, or nearly the same, it may fail to converge and will report errors. 4) For efficient fitting, we must satisfy a regularity condition (see N. M. Kiefer, Maximum likelihood estimation (M\-L\-E), \href{http://instruct1.cit.cornell.edu/courses/econ620/reviewm5.pdf,}{\tt http\-://instruct1.\-cit.\-cornell.\-edu/courses/econ620/reviewm5.\-pdf,} 2007), and to do that the lower bound in Weibull data/fitting cannot be too small so we recommend you translated the data to be well away from zero (part of why we only fit on upper side and, in the \hyperlink{class_meta_recognition}{Meta\-Recognition} class we translate more than just the min..) 

Definition in file \hyperlink{weibull_8h_source}{weibull.\-h}.



\subsection{Macro Definition Documentation}
\hypertarget{weibull_8h_ad5ecc119cce9b101ce0fdd2f46ed73ed}{\index{weibull.\-h@{weibull.\-h}!W\-E\-I\-B\-U\-L\-L\-\_\-\-H@{W\-E\-I\-B\-U\-L\-L\-\_\-\-H}}
\index{W\-E\-I\-B\-U\-L\-L\-\_\-\-H@{W\-E\-I\-B\-U\-L\-L\-\_\-\-H}!weibull.h@{weibull.\-h}}
\subsubsection[{W\-E\-I\-B\-U\-L\-L\-\_\-\-H}]{\setlength{\rightskip}{0pt plus 5cm}\#define W\-E\-I\-B\-U\-L\-L\-\_\-\-H}}\label{weibull_8h_ad5ecc119cce9b101ce0fdd2f46ed73ed}


Definition at line 34 of file weibull.\-h.



\subsection{Function Documentation}
\hypertarget{weibull_8h_a6008cac4d8de6e6ea3404c70db4f05d0}{\index{weibull.\-h@{weibull.\-h}!print\-Weibull\-Build\-Info@{print\-Weibull\-Build\-Info}}
\index{print\-Weibull\-Build\-Info@{print\-Weibull\-Build\-Info}!weibull.h@{weibull.\-h}}
\subsubsection[{print\-Weibull\-Build\-Info}]{\setlength{\rightskip}{0pt plus 5cm}void print\-Weibull\-Build\-Info (
\begin{DoxyParamCaption}
\item[{F\-I\-L\-E $\ast$}]{fh}
\end{DoxyParamCaption}
)}}\label{weibull_8h_a6008cac4d8de6e6ea3404c70db4f05d0}
Print information about this build to a file descriptor. Used for checking what is loaded for supporting people 

Definition at line 409 of file weibull.\-cpp.

\hypertarget{weibull_8h_a5676fa7821d22c891641b5ae750edbb7}{\index{weibull.\-h@{weibull.\-h}!weibull\-\_\-cdf@{weibull\-\_\-cdf}}
\index{weibull\-\_\-cdf@{weibull\-\_\-cdf}!weibull.h@{weibull.\-h}}
\subsubsection[{weibull\-\_\-cdf}]{\setlength{\rightskip}{0pt plus 5cm}double weibull\-\_\-cdf (
\begin{DoxyParamCaption}
\item[{double}]{x, }
\item[{double}]{scale, }
\item[{double}]{shape}
\end{DoxyParamCaption}
)}}\label{weibull_8h_a5676fa7821d22c891641b5ae750edbb7}
\begin{DoxyVerb}if WEIBULL_USE_ASSERTS is defined, the code will use asserts to ensure its requirements are true, otherwise it returns error codes. Default is not defined        if WEIBULL_IGNORE_ERRORS is defined, the code will just presume things will work out and not waste time on testing for error. Default is not defined         weibull_cdf computes the probability (given our assumptions) that the value x is an outlier ABOVE the fit distribution.  if the distribution was non-match data, then it provides this probability that x is a match score.   If data was match-data then it would be the probability of it being a larger non-match. 
\end{DoxyVerb}
 computes \[ 1-e^{{\frac{x}{scale}}^{shape}} \]


\begin{DoxyParams}{Parameters}
{\em x} & the location at which to compute the probability of being an outlier \\
\hline
{\em scale} & the scale parmaeter of the weibull. This is the first element in weibull\-\_\-parms (as computed by our wlbfit) \\
\hline
{\em shape} & the scale parmaeter of the weibull. This is the first second in weibull\-\_\-parms (as computed by our wlbfit) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
if in the range \mbox{[}0-\/1\mbox{]} it is the probability of X being an outlier. Any value $<$ 0 is an error code. returns -\/1 for invalid scale $<$=0 , -\/2 for invalid shape $<$=0 
\end{DoxyReturn}


Definition at line 340 of file weibull.\-cpp.

\hypertarget{weibull_8h_ae45643de52e8682e9a4ae59ec6d77c42}{\index{weibull.\-h@{weibull.\-h}!weibull\-\_\-fit@{weibull\-\_\-fit}}
\index{weibull\-\_\-fit@{weibull\-\_\-fit}!weibull.h@{weibull.\-h}}
\subsubsection[{weibull\-\_\-fit}]{\setlength{\rightskip}{0pt plus 5cm}int weibull\-\_\-fit (
\begin{DoxyParamCaption}
\item[{double $\ast$}]{weibullparms, }
\item[{double $\ast$}]{wparm\-\_\-confidenceintervals, }
\item[{double $\ast$}]{input\-Data, }
\item[{double}]{alpha, }
\item[{int}]{size}
\end{DoxyParamCaption}
)}}\label{weibull_8h_ae45643de52e8682e9a4ae59ec6d77c42}
weibull\-\_\-fit does a maximum likelihood fitting to estimate the shape and scale parameters of a weibull probability distributon \[ \frac{shape}{scale} \left(\frac{x}{scale} \cdot e^{-{\left(\frac{x}{scale}\right)}^{shape}}\right)\]


\begin{DoxyParams}{Parameters}
{\em weibull\-\_\-parms} & is an array of 2 doubles, which must be preallocated. On successful completeion it will have shape and scale respectively. \\
\hline
{\em wparm\-\_\-confidenceintervals} & is an array of 4 doubles, which must be preallocated. On successful completeion it will have confidence interval for shape in the first two item and the C\-I for scale in the second two items \\
\hline
{\em input\-Data} & is a pointer the data to use for fitting the distribution. It must have at least size elements \\
\hline
{\em size} & is the size of the data to be used for fitting. \\
\hline
{\em alpha} & is parameter for Confidence interval size estimation. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
return should be 1 if all went well. Values $<$ 0 imply errors in fitting or data. -\/1 means some data was negative, -\/2 means bad data range (e.\-g. all the same) -\/3 or lower means M\-L\-E did not converge. 
\end{DoxyReturn}


Definition at line 1005 of file weibull.\-cpp.

\hypertarget{weibull_8h_a10654c6de021f056fa213203a6c0d0cb}{\index{weibull.\-h@{weibull.\-h}!weibull\-\_\-inv@{weibull\-\_\-inv}}
\index{weibull\-\_\-inv@{weibull\-\_\-inv}!weibull.h@{weibull.\-h}}
\subsubsection[{weibull\-\_\-inv}]{\setlength{\rightskip}{0pt plus 5cm}double weibull\-\_\-inv (
\begin{DoxyParamCaption}
\item[{double}]{x, }
\item[{double}]{scale, }
\item[{double}]{shape}
\end{DoxyParamCaption}
)}}\label{weibull_8h_a10654c6de021f056fa213203a6c0d0cb}
\begin{DoxyVerb} weibull_inv computes the inverse weibull, i.e. returns the score S (given our assumptions) such that x=wlbcdf(s,scale,shape). Note it estimates from above, so if x=1.0 expect an answer of Inf (infinity). 
\end{DoxyVerb}



\begin{DoxyParams}{Parameters}
{\em x} & the location at which you compute the inverse (must be between \mbox{[}0,1\mbox{]} \\
\hline
{\em scale} & the scale parmaeter of the weibull. This is the first element in weibull\-\_\-parms (as computed by our wlbfit) \\
\hline
{\em shape} & the scale parmaeter of the weibull. This is the first second in weibull\-\_\-parms (as computed by our wlbfit) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
if X in the range \mbox{[}0-\/1\mbox{]}, return S such that x=wlbcdf(s,scale,shape). The return value is in the range \mbox{[}0,Inf\mbox{]}. Any return value $<$ 0 is an error code. returns -\/1 for invalid scale $<$=0 , -\/2 for invalid shape $<$=0 -\/3 for X$<$0, -\/4 for x $>$1 
\end{DoxyReturn}


Definition at line 376 of file weibull.\-cpp.

