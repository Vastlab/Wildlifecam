<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Squirrel Pipeline: /Users/rcjohnson/Documents/Securics/squirrel_pipeline/jni/onevsetSVM-/weibull.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Squirrel Pipeline
   &#160;<span id="projectnumber">.01</span>
   </div>
   <div id="projectbrief">Pipeline for squirrel recognition</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0137db55259b1fe4a282021b8c6a3218.html">onevsetSVM-</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">weibull.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="_2weibull_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad5ecc119cce9b101ce0fdd2f46ed73ed"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_2weibull_8h.html#ad5ecc119cce9b101ce0fdd2f46ed73ed">WEIBULL_H</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5676fa7821d22c891641b5ae750edbb7"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_2weibull_8h.html#a5676fa7821d22c891641b5ae750edbb7">weibull_cdf</a> (double <a class="el" href="_2svm-predict_8cpp.html#a9a5b72a4065074cac5da07efb80a1e79">x</a>, double scale, double shape)</td></tr>
<tr class="memitem:a10654c6de021f056fa213203a6c0d0cb"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_2weibull_8h.html#a10654c6de021f056fa213203a6c0d0cb">weibull_inv</a> (double <a class="el" href="_2svm-predict_8cpp.html#a9a5b72a4065074cac5da07efb80a1e79">x</a>, double scale, double shape)</td></tr>
<tr class="memitem:ae45643de52e8682e9a4ae59ec6d77c42"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_2weibull_8h.html#ae45643de52e8682e9a4ae59ec6d77c42">weibull_fit</a> (double *weibullparms, double *wparm_confidenceintervals, double *inputData, double alpha, int size)</td></tr>
<tr class="memitem:a6008cac4d8de6e6ea3404c70db4f05d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_2weibull_8h.html#a6008cac4d8de6e6ea3404c70db4f05d0">printWeibullBuildInfo</a> (FILE *fh)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>weibull.h provides the headers for the core functionality for computing weibull fittings, as well as CDF and INF given parameters</p>
<p>Author Brian Heflin bheflin at securics com Author Walter Scheirer walter at securics com Author Terry Boult tboult at securics com</p>
<p>Copyright 2010, 2011, Securics Inc.</p>
<h1><a class="anchor" id="LICENSE"></a>
LICENSE</h1>
<p>See accompanying LICENSE agreement for full details on rights.</p>
<p>Parts of this technology are subject to SBIR data rights and as described in DFARS 252.227-7018 (June 1995) SBIR Data Rights which apply to Contract Number: N00014-11-C-0243 and STTR N00014-07-M-0421 to Securics Inc, 1870 Austin Bluffs Parkway, Colorado Springs, CO 80918</p>
<p>*The Government's rights to use, modify, reproduce, release, perform, display, or disclose technical data or computer software marked with this legend are restricted during the period shown as provided in paragraph (b)(4) of the Rights in Non-commercial Technical Data and Computer Software-Small Business Innovative Research (SBIR) Program clause contained in the above identified contract. Expiration of SBIR Data Rights: Expires four years after completion of the above cited project work for this or any other follow-on SBIR contract, whichever is later.</p>
<p>No restrictions on government use apply after the expiration date shown above. Any reproduction of technical data, computer software, or portions thereof marked with this legend must also reproduce the markings.</p>
<h1><a class="anchor" id="Summary"></a>
Description</h1>
<p>This file contains the "C" interface functions for very basic Weibull usage for Meta-Recognition. The weibull_fit and weibull_cdf are the primary functions to use.</p>
<p>The code herein has a number of STRONG assumptions you must follow as we cannot test for all of them. 1) All fitting and testing are presuming "larger is better", If you are fitting something where smaller is better you need to transform it. 2) All data is positive (okay we can and do test for that, but better to know up front what you are doing) 3) There must be sufficient range in your data to actually fit the Weibull. If all the data is the same, or nearly the same, it may fail to converge and will report errors. 4) For efficient fitting, we must satisfy a regularity condition (see N. M. Kiefer, Maximum likelihood estimation (MLE), <a href="http://instruct1.cit.cornell.edu/courses/econ620/reviewm5.pdf,">http://instruct1.cit.cornell.edu/courses/econ620/reviewm5.pdf,</a> 2007), and to do that the lower bound in Weibull data/fitting cannot be too small so we recommend you translated the data to be well away from zero (part of why we only fit on upper side and, in the <a class="el" href="class_meta_recognition.html" title="Primary object/methods for tranforming and computing needed for any Meta recogntion task...">MetaRecognition</a> class we translate more than just the min..) </p>

<p>Definition in file <a class="el" href="_2weibull_8h_source.html">weibull.h</a>.</p>
</div><hr/><h2>Macro Definition Documentation</h2>
<a class="anchor" id="ad5ecc119cce9b101ce0fdd2f46ed73ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WEIBULL_H</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_2weibull_8h_source.html#l00034">34</a> of file <a class="el" href="_2weibull_8h_source.html">weibull.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a6008cac4d8de6e6ea3404c70db4f05d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printWeibullBuildInfo </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print information about this build to a file descriptor. Used for checking what is loaded for supporting people </p>

<p>Definition at line <a class="el" href="weibull_8cpp_source.html#l00409">409</a> of file <a class="el" href="weibull_8cpp_source.html">weibull.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5676fa7821d22c891641b5ae750edbb7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double weibull_cdf </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>shape</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">if WEIBULL_USE_ASSERTS is defined, the code will use asserts to ensure its requirements are true, otherwise it returns error codes. Default is not defined        if WEIBULL_IGNORE_ERRORS is defined, the code will just presume things will work out and not waste time on testing for error. Default is not defined         weibull_cdf computes the probability (given our assumptions) that the value x is an outlier ABOVE the fit distribution.  if the distribution was non-match data, then it provides this probability that x is a match score.   If data was match-data then it would be the probability of it being a larger non-match. 
</pre><p> computes </p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ 1-e^{{\frac{x}{scale}}^{shape}} \]" src="form_0.png"/>
</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>the location at which to compute the probability of being an outlier </td></tr>
    <tr><td class="paramname">scale</td><td>the scale parmaeter of the weibull. This is the first element in weibull_parms (as computed by our wlbfit) </td></tr>
    <tr><td class="paramname">shape</td><td>the scale parmaeter of the weibull. This is the first second in weibull_parms (as computed by our wlbfit) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>if in the range [0-1] it is the probability of X being an outlier. Any value &lt; 0 is an error code. returns -1 for invalid scale &lt;=0 , -2 for invalid shape &lt;=0 </dd></dl>

<p>Definition at line <a class="el" href="weibull_8cpp_source.html#l00340">340</a> of file <a class="el" href="weibull_8cpp_source.html">weibull.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae45643de52e8682e9a4ae59ec6d77c42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int weibull_fit </td>
          <td>(</td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>weibullparms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>wparm_confidenceintervals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>inputData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>alpha</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>weibull_fit does a maximum likelihood fitting to estimate the shape and scale parameters of a weibull probability distributon </p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \frac{shape}{scale} \left(\frac{x}{scale} \cdot e^{-{\left(\frac{x}{scale}\right)}^{shape}}\right)\]" src="form_1.png"/>
</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">weibull_parms</td><td>is an array of 2 doubles, which must be preallocated. On successful completeion it will have shape and scale respectively. </td></tr>
    <tr><td class="paramname">wparm_confidenceintervals</td><td>is an array of 4 doubles, which must be preallocated. On successful completeion it will have confidence interval for shape in the first two item and the CI for scale in the second two items </td></tr>
    <tr><td class="paramname">inputData</td><td>is a pointer the data to use for fitting the distribution. It must have at least size elements </td></tr>
    <tr><td class="paramname">size</td><td>is the size of the data to be used for fitting. </td></tr>
    <tr><td class="paramname">alpha</td><td>is parameter for Confidence interval size estimation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>return should be 1 if all went well. Values &lt; 0 imply errors in fitting or data. -1 means some data was negative, -2 means bad data range (e.g. all the same) -3 or lower means MLE did not converge. </dd></dl>

<p>Definition at line <a class="el" href="weibull_8cpp_source.html#l01005">1005</a> of file <a class="el" href="weibull_8cpp_source.html">weibull.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a10654c6de021f056fa213203a6c0d0cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double weibull_inv </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>shape</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> weibull_inv computes the inverse weibull, i.e. returns the score S (given our assumptions) such that x=wlbcdf(s,scale,shape). Note it estimates from above, so if x=1.0 expect an answer of Inf (infinity). 
</pre><dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>the location at which you compute the inverse (must be between [0,1] </td></tr>
    <tr><td class="paramname">scale</td><td>the scale parmaeter of the weibull. This is the first element in weibull_parms (as computed by our wlbfit) </td></tr>
    <tr><td class="paramname">shape</td><td>the scale parmaeter of the weibull. This is the first second in weibull_parms (as computed by our wlbfit) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>if X in the range [0-1], return S such that x=wlbcdf(s,scale,shape). The return value is in the range [0,Inf]. Any return value &lt; 0 is an error code. returns -1 for invalid scale &lt;=0 , -2 for invalid shape &lt;=0 -3 for X&lt;0, -4 for x &gt;1 </dd></dl>

<p>Definition at line <a class="el" href="weibull_8cpp_source.html#l00376">376</a> of file <a class="el" href="weibull_8cpp_source.html">weibull.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 2 2012 13:38:47 for Squirrel Pipeline by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.1
</small></address>
</body>
</html>
